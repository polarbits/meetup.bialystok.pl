{"version":3,"sources":["../../src/commands/component-link.js"],"names":["ComponentLink","constructor","context","session","Socket","Component","run","projectPath","cmd","sockets","listLocal","prints","map","socket","components","getLocal","getComponents","forEach","component","cyan","bold","packageName","linkWithProject","join","process","cwd","green","Promise","all"],"mappings":";;;;;;AAAA;;;;AACA;;;;AACA;;;;;;AAEe,MAAMA,aAAN,CAAoB;AACjCC,cAAaC,OAAb,EAAsB;AACpB,SAAKC,OAAL,GAAeD,QAAQC,OAAvB;AACA,SAAKC,MAAL,GAAcF,QAAQE,MAAtB;AACA,SAAKC,SAAL,GAAiBH,QAAQG,SAAzB;AACD;;AAEKC,KAAN,CAAW,CAACC,WAAD,EAAcC,GAAd,CAAX,EAA+B;AAAA;;AAAA;AAC7B,YAAMC,UAAU,MAAM,MAAKL,MAAL,CAAYM,SAAZ,EAAtB;AACA,YAAMC,SAASF,QAAQG,GAAR;AAAA,qCAAY,WAAMC,MAAN,EAAgB;AACzC,gBAAMC,aAAa,MAAM,MAAKV,MAAL,CAAYW,QAAZ,CAAqBF,MAArB,EAA6BG,aAA7B,EAAzB;AACA,iBAAOF,WAAWG,OAAX;AAAA,0CAAmB,WAAMC,SAAN,EAAmB;AAC3C,qCAAM,CAAN,EAAU,qBAAoB,gBAAOC,IAAP,CAAYC,IAAZ,CAAiBF,UAAUG,WAA3B,CAAwC,KAAtE;AACAH,wBAAUI,eAAV,CAA0B,eAAKC,IAAL,CAAUC,QAAQC,GAAR,EAAV,EAAyBlB,WAAzB,CAA1B;AACA,oCAAK,gBAAOmB,KAAP,CAAa,OAAb,CAAL;AACD,aAJM;;AAAA;AAAA;AAAA;AAAA,eAAP;AAKD,SAPc;;AAAA;AAAA;AAAA;AAAA,WAAf;AAQA,YAAMC,QAAQC,GAAR,CAAYjB,MAAZ,CAAN;AACA;AAX6B;AAY9B;AAnBgC;kBAAdX,a","file":"component-link.js","sourcesContent":["import path from 'path'\nimport format from 'chalk'\nimport { echo, echon } from '../utils/print-tools'\n\nexport default class ComponentLink {\n  constructor (context) {\n    this.session = context.session\n    this.Socket = context.Socket\n    this.Component = context.Component\n  }\n\n  async run ([projectPath, cmd]) {\n    const sockets = await this.Socket.listLocal()\n    const prints = sockets.map(async socket => {\n      const components = await this.Socket.getLocal(socket).getComponents()\n      return components.forEach(async component => {\n        echon(4)(`Linking component ${format.cyan.bold(component.packageName)}...`)\n        component.linkWithProject(path.join(process.cwd(), projectPath))\n        echo(format.green(' Done'))\n      })\n    })\n    await Promise.all(prints)\n    echo()\n  }\n}\n"]}
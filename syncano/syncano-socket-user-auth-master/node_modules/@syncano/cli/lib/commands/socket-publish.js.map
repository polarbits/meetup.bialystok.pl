{"version":3,"sources":["../../src/commands/socket-publish.js"],"names":["SocketPublishCmd","constructor","context","session","Socket","run","socketName","cmd","publish","version","cyan","err","response","data","message"],"mappings":";;;;;;AAAA;;;;AACA;;;;;;AAEe,MAAMA,gBAAN,CAAuB;AACpCC,cAAaC,OAAb,EAAsB;AACpB,SAAKC,OAAL,GAAeD,QAAQC,OAAvB;AACA,SAAKC,MAAL,GAAcF,QAAQE,MAAtB;AACD;;AAEKC,KAAN,CAAW,CAACC,UAAD,EAAaC,GAAb,CAAX,EAA8B;AAAA;;AAAA;AAC5B,UAAI;AACF,cAAM,MAAKH,MAAL,CAAYI,OAAZ,CAAoBF,UAApB,EAAgCC,IAAIE,OAApC,CAAN;AACA;AACA,8BAAK,CAAL,EAAS,UAAS,gBAAOC,IAAP,CAAYJ,UAAZ,CAAwB,6BAA1C;AACA;AACD,OALD,CAKE,OAAOK,GAAP,EAAY;AACZ,YAAIA,IAAIC,QAAJ,IAAgBD,IAAIC,QAAJ,CAAaC,IAAjC,EAAuC;AACrC;AACA,iCAAM,CAAN,EAASF,IAAIC,QAAJ,CAAaC,IAAb,CAAkBC,OAA3B;AACA;AACD,SAJD,MAIO;AACL;AACA,iCAAM,CAAN,EAASH,IAAIG,OAAb;AACA;AACD;AACF;AAhB2B;AAiB7B;AAvBmC;kBAAjBd,gB","file":"socket-publish.js","sourcesContent":["import format from 'chalk'\nimport { error, echo } from '../utils/print-tools'\n\nexport default class SocketPublishCmd {\n  constructor (context) {\n    this.session = context.session\n    this.Socket = context.Socket\n  }\n\n  async run ([socketName, cmd]) {\n    try {\n      await this.Socket.publish(socketName, cmd.version)\n      echo()\n      echo(4)(`Socket ${format.cyan(socketName)} is now publicly available!`)\n      echo()\n    } catch (err) {\n      if (err.response && err.response.data) {\n        echo()\n        error(4)(err.response.data.message)\n        echo()\n      } else {\n        echo()\n        error(4)(err.message)\n        echo()\n      }\n    }\n  }\n}\n"]}
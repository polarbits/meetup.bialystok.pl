{"version":3,"sources":["../../../src/commands/helpers/spinner.js"],"names":["GlobalSpinner","constructor","spinnerLabel","spinner","jobsCounter","queueSize","label","text","resetLabel","stop","start","SimpleSpinner"],"mappings":";;;;;;AAAA;;;;;;AAEA,MAAMA,aAAN,CAAoB;AAClBC,cAAaC,YAAb,EAA2B;AACzB,SAAKA,YAAL,GAAoBA,YAApB;AACA,SAAKC,OAAL,GAAe,mBAAID,YAAJ,CAAf;AACA,SAAKE,WAAL,GAAmB,CAAnB;AACA,SAAKC,SAAL,GAAiB,CAAjB;AACD;;AAEDC,QAAOC,IAAP,EAAa;AACX,SAAKJ,OAAL,CAAaI,IAAb,GAAoBA,IAApB;AACD;;AAEDC,aAAYD,IAAZ,EAAkB;AAChB,SAAKJ,OAAL,CAAaI,IAAb,GAAoB,KAAKL,YAAzB;AACD;;AAEDO,SAAQ;AACN,SAAKN,OAAL,CAAaM,IAAb;AACA,SAAKL,WAAL,IAAoB,CAApB;AACD;;AAEDM,UAAS;AACP,SAAKN,WAAL,IAAoB,CAApB;AACA,QAAI,KAAKA,WAAL,KAAqB,KAAKC,SAA9B,EAAyC;AACvC,WAAKF,OAAL,CAAaO,KAAb;AACD;AACF;AA1BiB;;AA6BpB,MAAMC,aAAN,CAAoB;AAClBV,cAAaC,YAAb,EAA2B;AACzB,SAAKC,OAAL,GAAe,mBAAID,YAAJ,CAAf;AACD;;AAEDQ,UAAS;AACP,SAAKP,OAAL,CAAaO,KAAb;AACA,WAAO,IAAP;AACD;;AAEDD,SAAQ;AACN,SAAKN,OAAL,CAAaM,IAAb;AACA,WAAO,IAAP;AACD;AAbiB;;kBAgBL;AACbT,eADa;AAEbW;AAFa,C","file":"spinner.js","sourcesContent":["import ora from 'ora'\n\nclass GlobalSpinner {\n  constructor (spinnerLabel) {\n    this.spinnerLabel = spinnerLabel\n    this.spinner = ora(spinnerLabel)\n    this.jobsCounter = 0\n    this.queueSize = 0\n  }\n\n  label (text) {\n    this.spinner.text = text\n  }\n\n  resetLabel (text) {\n    this.spinner.text = this.spinnerLabel\n  }\n\n  stop () {\n    this.spinner.stop()\n    this.jobsCounter -= 1\n  }\n\n  start () {\n    this.jobsCounter += 1\n    if (this.jobsCounter === this.queueSize) {\n      this.spinner.start()\n    }\n  }\n}\n\nclass SimpleSpinner {\n  constructor (spinnerLabel) {\n    this.spinner = ora(spinnerLabel)\n  }\n\n  start () {\n    this.spinner.start()\n    return this\n  }\n\n  stop () {\n    this.spinner.stop()\n    return this\n  }\n}\n\nexport default {\n  GlobalSpinner,\n  SimpleSpinner\n}\n"]}
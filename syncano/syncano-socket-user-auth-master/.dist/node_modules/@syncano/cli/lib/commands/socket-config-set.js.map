{"version":3,"sources":["../../src/commands/socket-config-set.js"],"names":["SocketConfigSetCmd","constructor","context","session","Socket","run","socketName","optionName","optionValue","cmd","socket","get","existRemotely","process","exit","spec","config","Object","assign","remote","updateConfig","err","message"],"mappings":";;;;;;AAAA;;;;AAEe,MAAMA,kBAAN,CAAyB;AACtCC,cAAaC,OAAb,EAAsB;AACpB,SAAKC,OAAL,GAAeD,QAAQC,OAAvB;AACA,SAAKC,MAAL,GAAcF,QAAQE,MAAtB;AACD;;AAEKC,KAAN,CAAW,CAACC,UAAD,EAAaC,UAAb,EAAyBC,WAAzB,EAAsCC,GAAtC,CAAX,EAAuD;AAAA;;AAAA;AACrD,YAAKC,MAAL,GAAc,MAAM,MAAKN,MAAL,CAAYO,GAAZ,CAAgBL,UAAhB,CAApB;;AAEA,UAAI,CAAC,MAAKI,MAAL,CAAYE,aAAjB,EAAgC;AAC9B;AACA,+BAAM,CAAN,EAAS,6BAAT;AACA;AACAC,gBAAQC,IAAR,CAAa,CAAb;AACD;;AAED,UAAI,EAAE,MAAKJ,MAAL,CAAYK,IAAZ,CAAiBC,MAAjB,IAA2B,MAAKN,MAAL,CAAYK,IAAZ,CAAiBC,MAAjB,CAAwBT,UAAxB,CAA7B,CAAJ,EAAuE;AACrE,iCAAQ,wBAAR;AACAM,gBAAQC,IAAR;AACD;;AAED,YAAME,SAASC,OAAOC,MAAP,CAAc,EAAd,EAAkB,MAAKR,MAAL,CAAYS,MAAZ,CAAmBH,MAArC,CAAf;;AAEAA,aAAOT,UAAP,IAAqBC,WAArB;AACA,UAAI;AACF,cAAM,MAAKE,MAAL,CAAYU,YAAZ,CAAyBJ,MAAzB,CAAN;AACAH,gBAAQC,IAAR;AACD,OAHD,CAGE,OAAOO,GAAP,EAAY;AACZ,+BAAMA,IAAIC,OAAV;AACD;AAvBoD;AAwBtD;AA9BqC;kBAAnBtB,kB","file":"socket-config-set.js","sourcesContent":["import { echo, error, warning } from '../utils/print-tools'\n\nexport default class SocketConfigSetCmd {\n  constructor (context) {\n    this.session = context.session\n    this.Socket = context.Socket\n  }\n\n  async run ([socketName, optionName, optionValue, cmd]) {\n    this.socket = await this.Socket.get(socketName)\n\n    if (!this.socket.existRemotely) {\n      echo()\n      error(4)('That socket was not synced!')\n      echo()\n      process.exit(1)\n    }\n\n    if (!(this.socket.spec.config && this.socket.spec.config[optionName])) {\n      warning('No such config option!')\n      process.exit()\n    }\n\n    const config = Object.assign({}, this.socket.remote.config)\n\n    config[optionName] = optionValue\n    try {\n      await this.socket.updateConfig(config)\n      process.exit()\n    } catch (err) {\n      error(err.message)\n    }\n  }\n}\n"]}
{"version":3,"sources":["../../../src/commands/helpers/create-instance.js"],"names":["debug","createInstance","instanceName","newInstance","err","message","cyan","process","exit","green","name"],"mappings":";;;;;;;AAAA;;;;AAEA;;;;AACA;;;;AACA;;;;;;AAEA,MAAM,EAAEA,KAAF,KAAY,qBAAO,oBAAP,CAAlB;;AAEO,MAAMC;AAAA,+BAAiB,WAAOC,YAAP,EAAwB;AACpD,QAAIC,cAAc,IAAlB;AACA,QAAI;AACFH,YAAM,mBAAN;AACA;AACA,6BAAM,CAAN,EAAS,+BAAT;AACAG,oBAAc,MAAM,kBAAQF,cAAR,CAAuBC,YAAvB,CAApB;AACD,KALD,CAKE,OAAOE,GAAP,EAAY;AACZJ,YAAMI,GAAN;AACA;AACA;AACA,UAAIA,IAAIC,OAAJ,KAAgB,kBAApB,EAAwC;AACtC,+BAAM,CAAN,EAAS,4CAAT;AACA,8BAAK,CAAL,EAAS,OAAM,gBAAOC,IAAP,CAAY,oBAAZ,CAAkC,QAAO,gBAAOA,IAAP,CAAY,mBAAZ,CAAiC,SAAzF;AACD,OAHD,MAGO,IAAIF,IAAIC,OAAJ,KAAgB,kCAApB,EAAwD;AAC7D,+BAAM,CAAN,EAAS,yBAAT;AACA,8BAAK,CAAL,EAAQ,2BAAR;AACD,OAHM,MAGA;AACL,+BAAM,CAAN,EAASD,IAAIC,OAAJ,IAAe,2CAAxB;AACD;AACD;AACAE,cAAQC,IAAR,CAAa,CAAb;AACD,KApBD,SAoBU;AACR,4BAAM,GAAE,gBAAOC,KAAP,CAAa,MAAb,CAAqB,EAA7B;AACA,4BAAK,CAAL,EAAS,oBAAmB,gBAAOH,IAAP,CAAYH,YAAYO,IAAxB,CAA8B,oBAA1D;AACA;AACD;AACD,WAAOP,WAAP;AACD,GA5BY;;AAAA;AAAA;AAAA;AAAA,IAAN","file":"create-instance.js","sourcesContent":["import format from 'chalk'\n\nimport logger from '../../utils/debug'\nimport session from '../../utils/session'\nimport { echo, echon, error } from '../../utils/print-tools'\n\nconst { debug } = logger('cmd-helpers-socket')\n\nexport const createInstance = async (instanceName) => {\n  let newInstance = null\n  try {\n    debug('Creating Instance')\n    echo()\n    echon(4)('Creating Syncano Instance... ')\n    newInstance = await session.createInstance(instanceName)\n  } catch (err) {\n    debug(err)\n    echo()\n    echo()\n    if (err.message === 'No such API Key.') {\n      error(4)('It looks like your account key is invalid.')\n      echo(4)(`Try ${format.cyan('syncano-cli logout')} and ${format.cyan('syncano-cli login')} again.`)\n    } else if (err.message === 'name: This field must be unique.') {\n      error(4)('Instance already exist!')\n      echo(4)('Try another instace name.')\n    } else {\n      error(4)(err.message || 'Error while creating instance. Try again!')\n    }\n    echo()\n    process.exit(1)\n  } finally {\n    echo(`${format.green('Done')}`)\n    echo(4)(`Syncano Instance ${format.cyan(newInstance.name)} has been created!`)\n    echo()\n  }\n  return newInstance\n}\n"]}
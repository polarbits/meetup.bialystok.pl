{"version":3,"sources":["../../src/commands/socket-config.js"],"names":["SocketConfigCmd","constructor","context","session","Socket","run","socketName","cmd","socket","get","existRemotely","process","exit","spec","config","getConfigOptions","updateConfig"],"mappings":";;;;;;AAAA;;AACA;;;;AAEe,MAAMA,eAAN,CAAsB;AACnCC,cAAaC,OAAb,EAAsB;AACpB,SAAKC,OAAL,GAAeD,QAAQC,OAAvB;AACA,SAAKC,MAAL,GAAcF,QAAQE,MAAtB;AACD;;AAEKC,KAAN,CAAW,CAACC,UAAD,EAAaC,GAAb,CAAX,EAA8B;AAAA;;AAAA;AAC5B,YAAKC,MAAL,GAAc,MAAM,MAAKJ,MAAL,CAAYK,GAAZ,CAAgBH,UAAhB,CAApB;;AAEA,UAAI,CAAC,MAAKE,MAAL,CAAYE,aAAjB,EAAgC;AAC9B;AACA,+BAAM,CAAN,EAAS,6BAAT;AACA;AACAC,gBAAQC,IAAR,CAAa,CAAb;AACD;;AAED,UAAI,CAAC,MAAKJ,MAAL,CAAYK,IAAZ,CAAiBC,MAAtB,EAA8B;AAC5B;AACA,iCAAQ,sDAAR;AACA;AACAH,gBAAQC,IAAR,CAAa,CAAb;AACD;;AAED;;AAEA,YAAME,SAAS,MAAM,0BAAa,MAAKN,MAAL,CAAYO,gBAAZ,EAAb,CAArB;AACA,YAAM,MAAKP,MAAL,CAAYQ,YAAZ,CAAyBF,MAAzB,CAAN;AACA;AArB4B;AAsB7B;AA5BkC;kBAAhBd,e","file":"socket-config.js","sourcesContent":["import { askQuestions } from './helpers/socket'\nimport { echo, warning, error } from '../utils/print-tools'\n\nexport default class SocketConfigCmd {\n  constructor (context) {\n    this.session = context.session\n    this.Socket = context.Socket\n  }\n\n  async run ([socketName, cmd]) {\n    this.socket = await this.Socket.get(socketName)\n\n    if (!this.socket.existRemotely) {\n      echo()\n      error(4)('That socket was not synced!')\n      echo()\n      process.exit(1)\n    }\n\n    if (!this.socket.spec.config) {\n      echo()\n      warning('That Socket doesn\\'t have any configuration options.')\n      echo()\n      process.exit(1)\n    }\n\n    echo()\n\n    const config = await askQuestions(this.socket.getConfigOptions())\n    await this.socket.updateConfig(config)\n    echo()\n  }\n}\n"]}